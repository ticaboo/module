<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="chrome=1">
		<title>Module by jameslockwood</title>

		<link rel="stylesheet" href="website/css/styles.css">
		<link rel="stylesheet" href="website/css/pygment_trac.css">
		<link rel="stylesheet" href="website/css/syntax.css">

		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<!--[if lt IE 9]>
		<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	</head>
	<body onload="prettyPrint()">
	<div class="wrapper">
		<header>
			<h1>Module.js</h1>
			<p>A lightweight library for creating modular JavaScript applications</p>

			<ul class="downloads">
				<li><a href="https://raw.github.com/jameslockwood/module/master/module.js"><strong>Download</strong>Module.js</a></li>
				<li><a href="https://raw.github.com/jameslockwood/module/master/module.min.js"><strong>Minified</strong>Module.js</a></li>
				<li><a href="https://github.com/jameslockwood/module"><strong>GitHub</strong>Project</a></li>
			</ul>

			<nav>

				<a class="toc-head" href="#module-intro">Introduction</a>

				<a class="toc-head" href="#module-intro">Module</a>

				<span class="subtitle">Properties</span>
				<ul>
					<li><a href="#module-scope">scope</a></li>
					<li><a href="#module-scope">$scope</a></li>
					<li><a href="#module-scope">events</a></li>
				</ul>

				<span class="subtitle">Methods</span>
				<ul>
					<li class="method-head">Messaging</li>
					<li><a href="#module-scope">on</a></li>
					<li><a href="#module-scope">off</a></li>
					<li><a href="#module-scope">emit</a></li>

					<li class="method-head">DOM Scope</li>
					<li><a href="#module-scope">$</a></li>
					<li><a href="#module-scope">hide</a></li>
					<li><a href="#module-scope">show</a></li>
					<li><a href="#module-scope">setScope</a></li>

					<li class="method-head">Utils</li>
					<li><a href="#module-scope">bindEvents</a></li>
					<li><a href="#module-scope">createMap</a></li>
					<li><a href="#module-scope">log</a></li>
					<li><a href="#module-scope">throwException</a></li>

					<li class="method-head">Lifecycle Management</li>
					<li><a href="#module-scope">start</a></li>
					<li><a href="#module-scope">stop</a></li>
				</ul>

				<span class="subtitle">Functions</span>
				<ul>
					<li><a href="#module-scope">Module.extend</a></li>
					<li><a href="#module-scope">Module.installEventsTo</a></li>
				</ul>

				<a class="toc-head" href="#module-intro">Map</a>
				<span class="subtitle">Methods</span>
				<ul>
					<li><a href="#module-scope">add</a></li>
					<li><a href="#module-scope">each</a></li>
					<li><a href="#module-scope">eachTry</a></li>
					<li><a href="#module-scope">length</a></li>
					<li><a href="#module-scope">on</a></li>
					<li><a href="#module-scope">off</a></li>
					<li><a href="#module-scope">remove</a></li>
				</ul>


				<a class="toc-head" href="#module-intro">Tutorials</a>
				<ul>
					<li><a href="#module-scope">Creating a Module</a></li>
					<li><a href="#module-scope">Using Module Scope</a></li>
					<li><a href="#module-scope">Using Maps</a></li>
					<li><a href="#module-scope">Hooking-up Events</a></li>
					<li><a href="#module-scope">Creating a Modular Application</a></li>
					<li><a href="#module-scope">Lifecycle Management</a></li>
				</ul>
			</nav>

		</header>

		<section>


			<p>Talk about instances.  No parent / child relationship.  Drop in a module anywhere (providing it a DOM scope if it has any interactions with the DOM),  subscribe to itâ€™s events, and go from there.</p>

			<h2>Introduction</h2>
			<p>Stuff here...  Dependencies,  what it works with.  Link to tutorials when they're done.</p>
			<p>Modular Javascript Architectures - link to other resources.</p>

			<h2>Module</h2>
			<p>To create a module, simply instantiate the Module constructor.  If the module is to be concerned with the DOM, then a DOM reference (in the form of a CSS selector or jQuery/Zepto object) should be passed in as the modules <code>scope</code>.</p>
<pre><code class="prettyprint language-js">// creating a module
module = new Module();

// setting properties on instantiation
module = new Module({
  initialize : function(){},
  scope : '#app-wrapper'
});
</code></pre>

			<p>The <code>initialize()</code> method is automatically invoked when the module is created.  You can extend the module constructor too:</p>

<pre><code class="prettyprint language-js">// extending the Module constructor
App = Module.extend({
  initialize : funciton(){},
  start : function(){},
  stop : function(){}
});
// create our app, passing in it's scope
app = new App({scope : '#app-wrapper'});
app.start();
</code></pre>
			<p>You'll notice above that unimplemented <code>start</code> and <code>stop</code> methods have been supplied.  These are the primary strategies to manage a modules lifecycle.</p>

			<h3 class="sect">Properties</h3>
			<aside>
				<p>A module has three properties you need to worry about - <code>scope</code> and <code>$scope</code> both relate to the modules <a href="#">DOM scope</a>. The <code>events</code> property is set manually to declare event handlers.</p>
			</aside>
			<article>
				<h3>scope <code>String</code></h3>
				<p>A CSS selector representing the modules DOM scope, for example <code>'#anElement'</code>.
				Value will be <code>null</code> if scope has not been set.</p>
			</article>

			<article>
				<h3>$scope <code>Object</code></h3>

				<p>A jQuery/Zepto object referencing the modules DOM scope.  Value will be <code>null</code> if scope has not been set or jQuery/Zepto isn't being used.</p>
			</article>

			<article>
				<h3>events <code>Object</code></h3>

				<p>An events hash.  It provides declarative callbacks to handle events that occur on objects within a module.  The context of the callback handlers ( <code>this</code> ) will always be the current module.</p>
				<p>A basic event declaration includes the object name of interest, the event it emits, and a handler function.
				</p>
<pre><code class="prettyprint">events:{
  'objectName eventName' : function(){ // handle event here }
}
</code></pre>
				<p>
				Suppose a module has a <code>model</code> object that will emit a <code>'change'</code> event.  We can listen for this event by:
				</p>
<pre><code class="prettyprint">new Module({
  initialize: function(){
    this.model = new Model();
    this.bindEvents();
  },
  events: {
    'model change' : function( data ){
      // handle the model's 'change' event
    }
  }
});
</code></pre>
				<p>We can assign multiple event handlers on an object:</p>
<pre><code class="prettyprint">events:{
  'model' : {
    'change' : function( data ){},
    'reset' : function( arg ){},
    'destroy' : function( arg1, arg2 ){}
  }
}
</code></pre>
				<p>We can listen out for events across multiple objects by using a wildcard:</p>
<pre><code class="prettyprint">events:{
  // handle change event on the model
  'model change' : function( data ){ // do something },

  // handle change event on any object
  '* change' : function( data ){ // captures same event },

  // handle multiple events on any object
  '*' : {
    'change' : function( data ){},
    'anotherEvent' : function(){}
  }
}
</code></pre>
				<p>When using <a href="#">mappings</a>, matching event handlers are automatically bound - <a href="#"><code>bindEvents()</code></a> does not need to be called.
				Suppose a module has a <code>map</code> containing chat, email and notification sub-modules. Event handlers can be declared like so:</p>
<pre><code class="prettyprint">new Module({
  initialize: function(){
    this.widgets = this.createMap('widgets');
    this.widgets.add({
      'email' : new EmailModule(),
      'chat' : new ChatModule(),
      'notification': new NotificationModule()
    });
  },
  events: {
    // handles the chat widgets 'message' event
    'widgets.chat message': function( message ){
      this.widgets.get('notification').alert( message );
    },

    // handles any widgets 'message' event
    // the maps object and name are automatically
    // injected into the handler function
    'widgets.* message': function( widget, widgetName, message ){
      this.widgets.get('notification').alert( message );
    }
  }
});
</code></pre>
			</article>
			<h3 class="sect">Communication Methods</h3>
			<aside>
				<p>TODO - short introduction to module communication.</p>
			</aside>
			<article>
				<h3>on <code>( event<b>string</b>, handler<b>function</b>, [context] )</code></h3>
				<p>Binds a callback function to the module. The callback will be invoked whenever the event is fired.</p>
<pre><code class="prettyprint">module.on('error', function( error, message ){
  throw error;
})
</code></pre>
				<p>To supply a context value for <code>this</code> when the callback is invoked, pass the optional third argument.</code></p>
			</article>
			<article>
				<h3>off <code>( [event<b>string</b>], [handler<b>function</b>], [context] )</code></h3>
				<p>Removes a previously-bound callback function from the module. If no context is specified, all of the versions of the callback with different contexts will be removed. If no callback is specified, all callbacks for the event will be removed. If no event is specified, callbacks for all events will be removed.</p>
<pre><code class="prettyprint">// Removes just the 'onError' callback.
module.off('error', onError);

// Removes all 'error' callbacks.
module.off('error');

// Removes all callbacks on the module.
module.off();
</code></pre>
			</article>
			<article>
				<h3>emit <code>( event<b>string</b>, [*args<b>any</b>] )</code></h3>
				<p>Emits an event. Subsequent arguments provided in <code>emit</code> will be passed along to any event handlers.</p>
<pre><code class="prettyprint">module.emit('newMessage');
module.emit('newMessage', details);
</code></pre>
			</article>

			<h3 class="sect">DOM Scope Methods</h3>
			<aside>
				<p>TODO - short introduction to DOM scope stuff.  Mention that module isn't responsible for DOM manipulation.</p>
			</aside>
			<article>
				<h3>$ <code>( selector<b>string</b> )</code></h3>
				<p>If jQuery or Zepto is included on the page, each module has a $ function that runs queries scoped within the modules DOM scope.</p>
<pre><code class="prettyprint">// run a scoped query within our module
module.$('.foo');

// create a Backbone view, passing in the module's scope
myModule = new Module({
  initialize : function(){
    this.view = new Backbone.View({
      el: this.$('.foo')
    });
  },
  start : function(){
    this.view.render();
  }
});
</code></pre>
			</article>
			<article>
				<h3>hide ()</h3>
				<p>Hides the modules element - equivalent to <code>this.$scope.hide()</code>. All other DOM manipulation should be delegated to views.</p>
			</article>
			<article>
				<h3>show ()</h3>
				<p>Show the modules element - equivalent to <code>this.$scope.show()</code>. All other DOM manipulation should be delegated to views.</p>
			</article>
			<article>
				<h3>setScope <code>( scope<b>string or jquery/Zepto object</b> )</code></h3>
				<p>Sets the module's scope.  Accepts a CSS selector or a jQuery/Zepto object referencing a DOM element.</p>
			</article>

			<h3 class="sect">Utils</h3>
			<aside>
				<p>Todo - utils. State they they're important.</p>
			</aside>
			<article>
				<h3>bindEvents ()</h3>
				<p>TODO.</p>
			</article>
			<article>
				<h3>createMap <code>( name<b>String</b> )</code></h3>
				<p>TODO.</p>
			</article>
			<article>
				<h3>log <code>( [* <b>any</b>] )</code></h3>
				<p>TODO.</p>
			</article>
			<article>
				<h3>throwException <code>( error<b>Error</b>, [message<b>string</b>] )</code></h3>
				<p>TODO.</p>
			</article>

			<h3 class="sect">Lifecycle Management</h3>
			<aside>
				<p>Todo - link to tutorials.</p>
			</aside>
			<article>
				<h3>start ()</h3>
				<p>TODO.</p>
			</article>
			<article>
				<h3>stop <code>( name<b>String</b> )</code></h3>
				<p>TODO.</p>
			</article>

			<h3 class="sect">'Static' Functions</h3>
			<aside>
				<p>Functions that are attached onto the <code>Module</code> constructor to use whenever.</p>
			</aside>
			<article>
				<h3>Module.extend <code>( properties<b>object</b> )</code></h3>
				<p>TODO.</p>
			</article>
			<article>
				<h3>Module.installEventsTo <code>( targetObject<b>object</b> )</code></h3>
				<p>TODO.</p>
			</article>

			<h2>Map</h2>
			<article>
				<h3>add <code>( name<b>String</b> )</code></h3>
				<p>TODO.</p>
			</article>
			<article>
				<h3>each <code>( name<b>String</b> )</code></h3>
				<p>TODO.</p>
			</article>
			<article>
				<h3>eachTry <code>( name<b>String</b> )</code></h3>
				<p>TODO.</p>
			</article>
			<article>
				<h3>length <code>( name<b>String</b> )</code></h3>
				<p>TODO.</p>
			</article>
			<article>
				<h3>on <code>( name<b>String</b> )</code></h3>
				<p>TODO.</p>
			</article>
			<article>
				<h3>off <code>( name<b>String</b> )</code></h3>
				<p>TODO.</p>
			</article>
			<article>
				<h3>remove <code>( name<b>String</b> )</code></h3>
				<p>TODO.</p>
			</article>
		</section>

		<footer>
			<p>Project maintained by <a href="https://github.com/jameslockwood">jameslockwood</a></p>
			<p><small>Hosted on GitHub Pages &mdash; Adapted <a href="https://github.com/orderedlist">orderedlist</a> theme.</small></p>
		</footer>

	</div>

	<script src="website/js/scale.fix.js"></script>
	<script src="website/js/syntax.js"></script>

	</body>
</html>